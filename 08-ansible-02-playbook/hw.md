### Выполнение домашнего задания.
# 1. Заполняем файл prod.yml. 
Т.К. я использую вм от yandex cloude, то для создания файла я использовал terraform, в котором указал характеристики машин, а после создания маашин их параметры записываются в шаблон файл:
- Сбор данных о машинах:
![alt text](image.png)
- Шаблон генерируемого файла
![alt text](image-1.png)
- Итоговый вывод
![alt text](image-2.png)
# 2 Play на установку и настройку vector
Для начала напишем таску, где скачаем дистрибутив vector:
![alt text](image-3.png)
Следующая таска установит vector на сервер:
напишем таску
![alt text](image-4.png)
Далее сделаем таску, которая загрузит наш конфигурационный файл на сервер:
- Шаблон файла
![alt text](image-10.png)
- Таска на загрузку файла из шаблона
![alt text](image-6.png)
Таска выполняется с повышенными привелегиями и вызывает handker Start vector service.

В handlers я описал процесс перезапуска службы в случае изменения файла
![alt text](image-7.png)

Примечание: при запуске playbook на task [Create database] мы получаем ошибку:
![alt text](image-8.png)
Она связана с тем, что база данных не успела полноценнно запуститься, по этому прописываю дополнительный task.
![alt text](image-9.png)

# 3 `ansible-lint site.yml`

При выполнении данной команды возникает предупреждение
![alt text](image-12.png)
Это предупреждение указывает на то, что Ansible обнаружил файл с расширением ".yaml", который обычно используется для плейбуков Ansible, но затем переопределил его как файл плейбука.

В целом, при выплнении моего проекта ошибок не возникает, идём далее

# 4 Запуск окружения с флагом `--check`
![alt text](image-14.png)
![alt text](image-13.png)

видим, что playbook отработал верно

# 5 запуск play с флагом `--diff`

![alt text](image-15.png)
![alt text](image-16.png)

Повторим команду

![alt text](image-17.png)
![alt text](image-18.png)